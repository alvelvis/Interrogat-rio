import estrutura_ud
import re
import cgi
import html as web
from functions import tabela as tabelaf

def bold_token(token, sentence):
    return sentence.to_str().replace(token.to_str(), "<b>" + token.to_str() + "</b>").replace(sentence.text, re.sub(r"\b" + re.escape(token.word) + r"\b", "<b>" + token.word + "</b>", sentence.text))

def getResultadosBusca():
    corpus = estrutura_ud.Corpus(recursivo=True)
    corpus.load("<!--corpus-->")

    resultadosBusca = {'output': [], 'casos': 0}

    '''
    EDITAR METODOLOGIA DE BUSCA ABAIXO

    '''
    
    for sentence in corpus.sentences.values():
        for token in sentence.tokens:
            if token.word == "palavra":
                resultadosBusca['output'].append({'resultado': bold_token(token, sentence)})

    '''
    EDITAR APENAS A PARTE ACIMA, E MAIS NADA
    '''

    return resultadosBusca