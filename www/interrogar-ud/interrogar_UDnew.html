<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" http-equiv="content-type" content="text/html; charset=UTF-8; width=device-width, initial-scale=1.0">
    <title>Nova interrogação: Interrogatório</title>
    <link href="../interrogar-ud/style.css?version=3" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
    <script src="../interrogar-ud/jquery.min.js"></script>
    <script src="../interrogar-ud/resultados.js?version=12"></script>
  <style>
    .interrogar {
      max-height: calc(80vh - 90px);
    }
  </style>
  </head>
  <body>
      <button onclick="topFunction()" id="myBtn" title="Voltar ao topo">Voltar ao topo</button>
      <div id="loading-bg"></div>
      <img id="loading-image" src="../interrogar-ud/loading4.gif" alt="Carregando">
      <img id="loading-image-nobg" src="../interrogar-ud/loading4.gif" alt="Carregando">
    <div class="header">
      <h1>Interrogatório</h1>
      <h2><a href="../cgi-bin/interrogatorio.cgi">interrogações recentes</a> - nova interrogação</h2>
    </div>
    <div class="content">
    <div style="display: flex; margin:auto; max-width:1280px;">
    <div style='width: 30%; margin: 0px 30px;' class="interrogar">
      <form action="../cgi-bin/interrogar.cgi" method="post">
        <p><div style="display:inline;">Expressão de busca:</div><br>
          <input name="pesquisa" class="pesquisa" id="pesquisa" required="required" type="text" style="max-width:100vw; width:100%;" autofocus></p>
          <p><a href="../cgi-bin/arquivo_ud.cgi" title="Acessar repositório dos arquivos CoNLL-U">Corpus:</a><br>
            <select class="conllu" name="conllu" data-live-search="true">
            <!--selectpicker-->
            </select>
        </p>
        <p>
          <input type=radio name=meth value="teste" style="display:inline" onclick="document.getElementById('meth_salvar').style.display = 'none'; $('.outros').hide();" title="A busca não será salva em interrogações recentes" checked>Busca rápida 
          <input type=radio name=meth value="salvar" title="A busca será salva em interrogações recentes" style="display:inline" onclick="$('.outros').hide(); document.getElementById('meth_salvar').style.display = 'block'; document.getElementById('nome').focus(); document.getElementById('nome').select();" class="salvar" >Salvar busca 
          <input type=radio name=meth value="distribution" class="toggleOutros" style="display:inline" onclick="document.getElementById('meth_salvar').style.display = 'none'; $('.outros').show();" title="Outras opções">Outros
        </p> <!--document.getElementById('nome').value = document.getElementById('pesquisa').value;-->
        <div class="outros" style="display:none">
          <div class="dist" style="display:none">
            <h4>Visualizar distribuição:</h4>
            <ul>
              <li><a style="cursor:pointer" class="verDist">id</a></li>
              <li><a style="cursor:pointer" class="verDist">word</a></li>
              <li><a style="cursor:pointer" class="verDist">lemma</a></li>
              <li><a style="cursor:pointer" class="verDist">upos</a></li>
              <li><a style="cursor:pointer" class="verDist">xpos</a></li>
              <li><a style="cursor:pointer" class="verDist">feats</a></li>
              <li><a style="cursor:pointer" class="verDist">dephead</a></li>
              <li><a style="cursor:pointer" class="verDist">deprel</a></li>
              <li><a style="cursor:pointer" class="verDist">deps</a></li>
              <li><a style="cursor:pointer" class="verDist">misc</a></li>
            </ul>
          </div>
          <div class="notDist" style="display:none">
            Para visualizar a distribuição de algum atributo, utilize o <a href="#criterio_5">critério 5: Python</a>.
          </div>
        </div>
      <p><div id="meth_salvar" style="display:none">Nome da busca:<br>
        <input id="nome" name="nome" value="Busca salva" type="text"></div></p>
        <p><input name="enviar" id="enviar" value="Buscar" class="btn-gradient orange" style="margin:0px"
type="submit"></p>
        <br>
      </form>      
      <form id=dist target='_blank' action='../cgi-bin/distribution.py' method=POST>
        <input type=hidden name=notSaved id=html_dist>
        <input type=hidden name=coluna id=coluna_dist>
        <input id=expressao_dist type=hidden name=expressao>
        <input id=corpus_dist type=hidden name=corpus>
      </form>
      </div>
      <div style='flex: 1; flex-grow: 1; overflow: auto; max-width: 70%;' class="interrogar">
      <!--SPLIT-->
      </div>
    </div>
    </div>
    <script>
        function pesquisa(numero) {
            document.getElementById('pesquisa').value = document.getElementById(numero).innerHTML.replace(/&amp;/g, '&').replace(/&gt;/g, '>');
        };

        $('.addCondition').click(function(){
          if (! $('#pesquisa').val()){
            $('#pesquisa').val('5 ');
          } else {
            $('#pesquisa').val($('#pesquisa').val() + ' and ');
          };
          $('#pesquisa').val($('#pesquisa').val() + $('.token').val() + "." + $('.atribute').val() + " " + $('.evaluation').val() + ' "' + $('.value').val() + '"');
          $('.value').val('');
          $('.pesquisa').focus();
        });

        $('.addBoldCondition').click(function(){
          if (! $('#pesquisa').val()){
            $('#pesquisa').val('5 ');
          } else {
            $('#pesquisa').val($('#pesquisa').val() + ' and ');
          };
          $('#pesquisa').val($('#pesquisa').val().replace(/\s@/g, " "));
          $('#pesquisa').val($('#pesquisa').val() + "@" + $('.token').val() + "." + $('.atribute').val() + " " + $('.evaluation').val() + ' "' + $('.value').val() + '"');
          $('.value').val('');
          $('.pesquisa').focus();
        });

        $('.clearCondition').click(function(){
          $('#pesquisa').val('');
          $('.value').val('');
        });

        $('.value').keydown(function(event){
            if (event.which == 13 || event.keyCode == 13) {
              event.preventDefault();
              $('.addCondition').click();
            };
        });
    </script>    
  </body>
</html>
